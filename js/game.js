    import { Player } from "./player.js";
    import { Map } from "./map.js";
    
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");
    const player = new Player("img/player.png", 2, 3, 2, canvas.width, canvas.height);
    const keys = {};
    window.addEventListener("keydown", function (e) {
      keys[e.keyCode] = true;
    });
    window.addEventListener("keyup", function (e) {
      delete keys[e.keyCode];
    });
    const tileSize = 16; 
    const mapData = [
            [12,12,12,12,12,55,12,12,56,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12],
            [12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,66,12,12,12,12,67,12,66,12,58,12],
            [12,12,12,12,58,12,12,12,12,12,12,12,12,12,12,12,12,69,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12],
            [12,12,12,12,12,12,70,12,12,69,55,12,12,12,12,12,12,58,12,12,12,12,58,12,12,12,12,12,71,12,12,58,12,12,12,12,12,69,12,12],
            [12,55,66,12,12,12,12,12,12,12,12,12,60,57,12,59,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,58,12,12,12],
            [12,12,12,12,59,12,12,12,12,66,12,12,12,12,12,12,12,12,12,66,12,12,12,12,12,12,66,12,12,12,12,12,12,12,66,12,12,12,12,12],
            [12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,69,12,55,12,66,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,55,12,12,12,12],
            [12,12,12,12,70,12,12,12,12,12,57,12,12,12,12,12,12,12,12,12,12,12,12,12,67,12,12,12,12,69,12,12,12,12,12,12,12,12,12,12],
            [12,12,12,12,12,12,12,12,12,12,12,12,58,55,12,12,12,12,12,12,69,12,12,12,12,12,12,12,12,12,12,12,71,12,12,12,12,12,12,12],
            [12,12,12,12,12,12,56,12,12,59,12,12,12,12,12,12,12,59,12,12,12,12,59,12,12,12,12,12,12,12,12,12,12,67,12,12,58,12,12,12],
            [12,12,12,12,66,12,12,12,12,12,12,12,12,12,66,12,12,12,12,12,12,12,12,12,12,12,12,58,12,12,12,12,12,12,12,12,12,12,12,12],
            [12,55,12,12,66,12,12,70,12,12,12,67,12,67,67,12,12,57,12,57,12,12,66,66,12,12,12,12,12,12,12,12,66,12,12,12,12,12,12,12],
            [12,12,12,59,12,12,12,12,12,12,12,57,12,12,12,12,12,12,12,69,12,12,12,12,55,12,12,12,12,55,12,12,12,12,12,12,12,69,12,12],
            [12,12,12,12,12,12,12,56,12,12,66,12,12,12,12,12,57,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,55,12,12,12,12,12,12],
            [12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,58,12,12,12,12,12,12,60,12,55,12,12,59,12,12,12,12,12,12,12,12,12,12,12,12],
            [12,12,12,12,12,12,12,12,69,56,12,12,58,12,12,12,12,12,12,59,12,12,12,12,12,67,12,12,12,12,12,58,12,12,12,12,12,12,12,12],
            [12,12,12,66,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,60,12,12,12,57,12,69,12,12,12,12,12,12],
            [12,12,12,12,12,12,12,12,69,12,12,66,12,12,12,12,12,67,12,12,12,12,12,12,66,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12],
            [12,55,12,69,12,12,70,12,12,12,12,12,12,12,12,55,12,55,12,55,12,12,12,55,69,12,12,12,12,12,55,12,12,12,12,60,12,12,12,12],
            [12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,57,12,12,12,12,12,12,12,12,12,12,12,12,12,12,55,12,12,12],
            [12,12,12,12,12,12,12,60,12,12,59,12,12,12,70,12,12,12,12,12,58,12,12,12,12,12,12,12,66,66,58,12,69,12,12,12,12,55,12,12],
            [12,12,12,12,12,12,12,58,12,12,12,12,12,12,12,12,66,55,12,12,58,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,66,12,12,12],
            [12,12,12,69,12,12,12,12,12,66,12,12,69,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12],
            [12,12,55,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,60,57,12,12,12,12,12,12,12,12,12,57,12,12,12,12,12],
            [12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12]
    ];
    const tilesetImgSrc = "img/Grass.png"; 

    const map = new Map(tileSize, mapData, tilesetImgSrc);

    function gameLoop() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      map.draw(ctx);
      player.update(keys);
      player.draw(ctx);
      requestAnimationFrame(gameLoop);
    }

    gameLoop();